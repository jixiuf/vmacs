#   -*- coding: utf-8 -*-
# editor ç”¨æ¥å®šåˆ¶æ“ä½œé”®çš„è¡Œä¸ºï¼Œä»¥ä¸‹æ˜¯é»˜è®¤è¡Œä¸º https://github.com/rime/librime/blob/master/src/rime/gear/editor.cc
editor:
  editor:
    bindings:
      space: confirm                        # ç©ºæ ¼é”®ï¼šä¸Šå±å€™é€‰é¡¹
      Return: commit_raw_input              # å›è½¦é”®ï¼šä¸Šå±åŸå§‹è¾“å…¥
      Control+Return: commit_script_text    # Ctrl+å›è½¦é”®ï¼šä¸Šå±å˜æ¢åè¾“å…¥ï¼ˆç»è¿‡ preedit_format è½¬æ¢çš„ï¼‰
      Control+Shift+Return: commit_comment  # Ctrl+Shift+å›è½¦é”®ï¼šä¸Šå± comment
      BackSpace: revert                     # é€€æ ¼é”®ï¼šå‘å‰åˆ é™¤ï¼ˆæ’¤æ¶ˆä¸Šæ¬¡è¾“å…¥ï¼‰
      Delete: delete                        # Delete é”®ï¼šå‘ååˆ é™¤
      Control+BackSpace: back_syllable      # Ctrl+é€€æ ¼é”®ï¼šåˆ é™¤ä¸€ä¸ªéŸ³èŠ‚
      Control+Delete: delete_candidate      # Ctrl+Deleteé”®ï¼šåˆ é™¤æˆ–é™æƒå€™é€‰é¡¹
      Escape: cancel                        # Esc é”®ï¼šå–æ¶ˆè¾“å…¥
switches:
  switches:
    - name: ascii_mode
      states: [ ä¸­, A ]
    - name: full_shape
      states: [ åŠè§’, å…¨è§’ ]
    - name: traditionalization
      states: [ ç®€, ç¹ ]
    - name: ascii_punct
      states: [ ã€‚, ï¼ ]
    # - name: emoji
    #   states: [ ğŸ’€, ğŸ˜„ ]

opencc:
  traditionalize:
    option_name: traditionalization  # å¯¹åº” switches ä¸­çš„ name
    opencc_config: s2t.json          # s2t.json | s2hk.json | s2tw.json | s2twp.json ï¼ˆRime å†…ç½®é…ç½®ï¼Œåœ¨ç¨‹åºç›®å½•å¯æ‰¾åˆ°ï¼‰
    tips: none                       # è½¬æ¢æç¤º: all éƒ½æ˜¾ç¤º | char ä»…å•å­—æ˜¾ç¤º | none ä¸æ˜¾ç¤ºã€‚
    tags: [ abc, number, gregorian_to_lunar ]  # é™åˆ¶åœ¨å¯¹åº” tagï¼Œä¸å¯¹å…¶ä»–å¦‚åæŸ¥çš„å†…å®¹åšç®€ç¹è½¬æ¢




guide:
  # punctuatorä¸ºæ ‡ç‚¹çš„æ„æ€ã€‚ä¸‹é¢importä¸ºå¯¼å…¥ï¼Œpresetä¸ºé¢„è®¾ï¼Œä¸¤è¯è¿èµ·æ¥å°±
  # æ˜¯å¯¼å…¥é¢„è®¾çš„æ„æ€ã€‚ä»å“ªé‡Œå¯¼å…¥å‘¢ï¼Ÿå°±æ˜¯åé¢çš„default.yamlæ–‡ä»¶ã€‚
  punctuator:
    # import_preset: default
    # å¼•å…¥symbols.yamlæ–‡ä»¶å¦å¾·æ ‡ç‚¹çš„å¤„ç†,æ¯”å¦‚/xlï¼Œåˆ™åˆ—å‡ºÎ±Î²
    import_preset: symbols

  # ä»default.yaml å¯¼å…¥keybind
  key_binder:
    import_preset: default

  recognizer:
    import_preset: default
    patterns:
      reverse_lookup: "`[a-z]*'?$"
      reverse_lookup_stroke: "u[a-z]*'?$"
      #é€ è¯
      add_user_dict: "^AC[A-Za-z]*$"
      # åŠ äº†è¿™å¥ä¹‹åä¸import_preset: symbols ç»“åˆä½¿ç”¨ï¼Œå½“è¾“å…¥/å¼€å¤´æ—¶ï¼Œè¾“å…¥ç‰¹æ®Šç¬¦å·ï¼Œå¦‚/xlè¾“å‡ºÎ±Î²ç­‰ï¼Œè©³ç´°è§symbals.ymal
      # æ¯”å¦‚ /2 è¾“å…¥äºŒè²³ç­‰
      punct: "^/([0-9]+[a-z]*|[a-z]+)$"
      number: "^R[0-9]+[.]?[0-9]*"        # è„šæœ¬å°†è‡ªåŠ¨è·å–ç¬¬ 2 ä¸ªå­—ç¬¦ R ä½œä¸ºè§¦å‘å‰ç¼€ï¼Œå“åº” lua_translator@*number_translatorï¼Œæ•°å­—é‡‘é¢å¤§å†™
      calculator: "^cC.+"                 # å“åº” lua_translator@*calc_translatorï¼Œè®¡ç®—å™¨ã€‚å‰ç¼€è®¾å®šé¡¹ calculator/prefix
      gregorian_to_lunar: "^N[0-9]{1,8}"  # è„šæœ¬å°†è‡ªåŠ¨è·å–ç¬¬ 2 ä¸ªå­—ç¬¦ N ä½œä¸ºè§¦å‘å‰ç¼€ï¼Œå“åº” lua_translator@*lunarï¼Œå…¬å†è½¬å†œå†ï¼Œè¾“å…¥ N20240115 å¾—åˆ°ã€ŒäºŒã€‡äºŒä¸‰å¹´è…Šæœˆåˆäº”ã€

lua_config:
# Lua é…ç½®: æ—¥æœŸã€æ—¶é—´ã€æ˜ŸæœŸã€ISO 8601ã€æ—¶é—´æˆ³çš„è§¦å‘å…³é”®å­—
  date_translator:
    date: /date       # æ—¥æœŸï¼š 2022-11-29
    time: /time       # æ—¶é—´ï¼š 18:13
    week: /week       # æ˜ŸæœŸï¼š æ˜ŸæœŸäºŒ
    datetime: /dt   # ISO 8601ï¼š 2022-11-29T18:13:11+08:00
    timestamp: /ts  # æ—¶é—´æˆ³ï¼š 1669716794
  # Lua é…ç½®: é•¿è¯ä¼˜å…ˆï¼Œæå‡ count ä¸ªè¯è¯­ï¼Œæ’å…¥åˆ°ç¬¬ idx ä¸ªä½ç½®ã€‚
  # ç¤ºä¾‹ï¼šå°† 2 ä¸ªè¯æ’å…¥åˆ°ç¬¬ 4ã€5 ä¸ªå€™é€‰é¡¹ï¼Œè¾“å…¥ jie å¾—åˆ°ã€Œ1æ¥ 2 è§£ 3 å§ 4 é¥¥é¥¿ 5 ææ¶ã€
  # é…åˆ     - lua_filter@*long_word_filter
  long_word_filter:
    count: 2
    idx: 4
    # Lua é…ç½®ï¼šå†œå†çš„è§¦å‘å…³é”®å­—
  lunar: nl  # å†œå†ï¼š äºŒã€‡äºŒä¸‰å¹´å†¬æœˆäºŒå ç™¸å¯å¹´ï¼ˆå…”ï¼‰å†¬æœˆäºŒå

# å…¨æ‹¼ (ä¸‡è±¡è¯åº“ä¸ºå¸¦å£°è°ƒçš„ï¼Œæ­¤å»å°†å£°è°ƒå»é™¤)
algebra_remove_pinyin_tone:   # å»å£°è°ƒ
  __append:
    - xform/^([a-z]+)$/$1â‘£/
    - xform/^(.*)Ä(.*)$/$1a$2â‘ /
    - xform/^(.*)Ã¡(.*)$/$1a$2â‘¡/
    - xform/^(.*)Ç(.*)$/$1a$2â‘¢/
    - xform/^(.*)Ã (.*)$/$1a$2â‘£/
    - xform/^(.*)Å(.*)$/$1o$2â‘ /
    - xform/^(.*)Ã³(.*)$/$1o$2â‘¡/
    - xform/^(.*)Ç’(.*)$/$1o$2â‘¢/
    - xform/^(.*)Ã²(.*)$/$1o$2â‘£/
    - xform/^(.*)Ä“(.*)$/$1e$2â‘ /
    - xform/^(.*)Ã©(.*)$/$1e$2â‘¡/
    - xform/^(.*)Ä›(.*)$/$1e$2â‘¢/
    - xform/^(.*)Ã¨(.*)$/$1e$2â‘£/
    - xform/^(.*)Ä«(.*)$/$1i$2â‘ /
    - xform/^(.*)Ã­(.*)$/$1i$2â‘¡/
    - xform/^(.*)Ç(.*)$/$1i$2â‘¢/
    - xform/^(.*)Ã¬(.*)$/$1i$2â‘£/
    - xform/^(.*)Å«(.*)$/$1u$2â‘ /
    - xform/^(.*)Ãº(.*)$/$1u$2â‘¡/
    - xform/^(.*)Ç”(.*)$/$1u$2â‘¢/
    - xform/^(.*)Ã¹(.*)$/$1u$2â‘£/
    - xform/^(.*)Ç–(.*)$/$1v$2â‘ /
    - xform/^(.*)Ç˜(.*)$/$1v$2â‘¡/
    - xform/^(.*)Çš(.*)$/$1v$2â‘¢/
    - xform/^(.*)Çœ(.*)$/$1v$2â‘£/
    - xform/^(.*)Ã¼(.*)$/$1v$2/
    - xform/^(.*)Å„(.*)$/$1n$2â‘¡/
    - xform/^(.*)Åˆ(.*)$/$1n$2â‘¢/
    - xform/^(.*)Ç¹(.*)$/$1n$2â‘£/
    - xlit/â‘ â‘¡â‘¢â‘£/7890
    - derive/^ng(\d)$/eng$1/
    - xform/^n(\d)/en$2/
    - derive/(.+)(\d)/$1/
    - derive/([nl])ve(\d)/$1ue$2/                            #è®©Ã¼Ã¨å…¼å®¹ue
    - derive/^([jqx])v(\d)$/$1u$2/
    - abbrev/^([qwrtypsdfghjklzxcbnm]).+$/$1/  #ä¸æºå¸¦å…ƒéŸ³çš„å£°æ¯æ´¾ç”Ÿå‡ºé¦–å­—æ¯ç®€ç æ¥
    - abbrev/^([qwrtypsdfghjklzxcbnm]).+(\d)$/$1$2/  #ä¸æºå¸¦å…ƒéŸ³çš„å£°æ¯æ´¾ç”Ÿå‡ºé¦–å­—æ¯ç®€ç æ¥+æ•°å­—å£°è°ƒ
    - abbrev/^([aoe])([ioun])(\d)$/$1/             #æºå¸¦ä¸¤ä¸ªå­—ç¬¦çš„å…ƒéŸ³é¦–å­—æ¯æ´¾ç”Ÿå‡ºç®€ç æ¥
    - abbrev/^([aoe])([ioun])(\d)$/$1$3/       #æºå¸¦ä¸¤ä¸ªå­—ç¬¦çš„å…ƒéŸ³é¦–å­—æ¯æ´¾ç”Ÿå‡ºç®€ç æ¥+æ•°å­—å£°è°ƒ

algebra_pinyin:
  __append:
    - abbrev/^([a-z]).+$/$1/
    - abbrev/^([zcs]h).+$/$1/
    - derive/^([nl])ue$/$1ve/
    - derive/^([jqxy])u/$1v/
    - derive/un$/uen/
    - derive/ui$/uei/
    - derive/iu$/iou/
    - derive/([aeiou])ng$/$1gn/
    - derive/([dtngkhrzcs])o(u|ng)$/$1o/
    - derive/ong$/on/
    - derive/ao$/oa/
    - derive/([iu])a(o|ng?)$/a$1$2/
algebra_wubi_sentence:
  __append:
  # xform --æ”¹å¯«ã€”ä¸ä¿ç•™åŸå½¢ã€•
  # derive --è¡ç”Ÿã€”ä¿ç•™åŸå½¢ã€•
  # abbrev --ç°¡æ‹¼ã€”å‡ºå­—å„ªå…ˆç´šè¼ƒä¸Šå…©çµ„æ›´ä½ã€•
  # fuzz --ç•§æ‹¼ã€”æ­¤ç¨®ç°¡æ‹¼åƒ…çµ„è©ï¼Œä¸å‡ºå–®å­—ã€•
  # xlit --è®Šæ›ã€”é©åˆå¤§é‡ä¸€å°ä¸€è®Šæ›ã€•
  # erase --åˆªé™¤
  # é˜¿é•¿ä¸å±±æµ·ç»	bs,kg ta,yi gn,gd mm,mm it,xu xc,ag;x0,00	2
    # ä¸‹é¢è¯´çš„åŒæ‹¼ ä¸æ˜¯åŒæ‹¼è¾“å…¥æ³•çš„åŒæ‹¼
    # å‰é¢éƒ¨åˆ†è¯´çš„æ˜¯å­—å…¸ä¸­çš„è§„åˆ™ï¼ŒååŠéƒ¨åˆ†è¯´çš„æ˜¯ç”¨æˆ·å¯è¾“å…¥å¯¹åº”çš„æ ¼å¼ä»¥åŒ¹é…è¿™ç§æ ¼å¼çš„ç¼–ç 
      - derive/^(\w)(\w),(.+)$/$1$2/ # çº¯åŒç çš„æƒ…å†µ (å•å­— åªéœ€è¦è¾“å‰ä¸¤ä¸ªç çš„æƒ…å†µ)
      - derive/^(\w)(\w),(\w)(\w);(\w)(\w),(.+)$/$5$6/ # çº¯åŒç çš„æƒ…å†µ(åŒå­— åå­—éœ€è¦è¾“å‰ä¸¤ä¸ªç çš„æƒ…å†µ)
      - derive/^(\w)(\w),(\w)(.+)$/$1$2$3/ # åŒç +ä¸€ä½è¾…åŠ©ç çš„æƒ…å†µ(å•å­— åå­—éœ€è¦è¾“å‰3ä¸ªç çš„æƒ…å†µ)
      - derive/^(\w)(\w),(\w)(\w);(\w)(\w),(\w)(.+)$/$5$6$7/ # åŒç +ä¸€ä½è¾…åŠ©ç çš„æƒ…å†µ(åŒå­— åå­—éœ€è¦è¾“å‰3ä¸ªç çš„æƒ…å†µ)

      - derive|^(\w)(\w),(\w)(\w)$|$1$2$3$4,| # åŒç +2ä½è¾…åŠ©ç çš„æƒ…å†µ ç»“å°¾åŠ ","
      - derive|^(\w)(\w),(\w)(\w);(.+)$|$1$2$3$4,| # åŒç +2ä½è¾…åŠ©ç çš„æƒ…å†µ ç»“å°¾åŠ ","
      - derive|^(\w)(\w),(\w)(\w);(\w)(\w),(\w)(\w)$|$5$6$7$8,| # åŒç +2ä½è¾…åŠ©ç çš„æƒ…å†µ ç»“å°¾åŠ ","

      - derive|^(\w)(\w),(\w)0.+$|$1$2$3,| # 3ç å…¨ç çš„å­—ï¼Œ3ç å…¨ç ååŠ ","
      - derive|^(\w)(\w),00.+$|$1$2,| # 2ç å…¨ç çš„å­—ï¼Œ2ç å…¨ç ååŠ ","
      - derive|^(\w)0,00.+$|$1,| # 1ç å…¨ç çš„å­—ï¼Œ3ç å…¨ç ååŠ ","

      - derive|^.+;(\w)(\w),(\w)0$|$1$2$3,| # 3ç å…¨ç çš„å­—ï¼Œ3ç å…¨ç ååŠ ","
      - derive|^.+;(\w)(\w),00$|$1$2,| # 2ç å…¨ç çš„å­—ï¼Œ2ç å…¨ç ååŠ ","
      - derive|^.+;(\w)0,00$|$1,| # 1ç å…¨ç çš„å­—ï¼Œ3ç å…¨ç ååŠ ","
# äº”ç¬”æ”¯æŒé•¿å¥ï¼Œ3ç æˆ–1ç æ—¶éœ€ä»¥â€œ,â€ç»“å°¾
wubi_sentence_speller:
  # speller:
  max_code_length: 5
  # table_translatorç¿»è¯‘å™¨ï¼Œæ”¯æŒè‡ªåŠ¨ä¸Šå±ã€‚ä¾‹å¦‚ â€œzmhuâ€å¯ä»¥è‡ªåŠ¨ä¸Šå±â€œæ€ä¹ˆå›äº‹â€
  auto_select: true
  auto_select_pattern: ^[a-z]+,|^[a-df-zA-DF-Z]\w{3}|^e\w{4}
  # å¦‚æœä¸æƒ³è®©ä»€ä¹ˆæ ‡ç‚¹ç›´æ¥ä¸Šå±ï¼Œå¯ä»¥åŠ åœ¨ alphabetï¼Œæˆ–è€…ç¼–è¾‘æ ‡ç‚¹ç¬¦å·ä¸ºä¸¤ä¸ªåŠä»¥ä¸Šçš„æ˜ å°„
  alphabet: zyxwvutsrqponmlkjihgfedcbaZYXWVUTSRQPONMLKJIHGFEDCBA[|,/
  # initials å®šä¹‰ä»…ä½œä¸ºå§‹ç çš„æŒ‰é”®ï¼Œæ’é™¤ ` è®©å•ä¸ªçš„ ` å¯ä»¥ç›´æ¥ä¸Šå±
  initials: zyxwvutsrqponmlkjihgfedcbaZYXWVUTSRQPONMLKJIHGFEDCBA
  # ç¬¬ä¸€ä½<ç©ºæ ¼>æ˜¯æ‹¼éŸ³ä¹‹é—´çš„åˆ†éš”ç¬¦ï¼›ç¬¬äºŒä½<'>è¡¨ç¤ºå¯ä»¥æ‰‹åŠ¨è¾“å…¥å•å¼•å·æ¥åˆ†å‰²æ‹¼éŸ³ã€‚
  delimiter: " ';"
  # ## speller æœªå…è®¸ aj è¡¨ç¤º an
  # algebra:
  #   __patch:
  #     - algebra_wubi_sentence
